(this.webpackJsonpoptions=this.webpackJsonpoptions||[]).push([[0],Array(37).concat([function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){var i={"./age_adult.jpg":53,"./age_child.jpg":54,"./age_teen.jpg":55,"./balanceOfPower_balanced.jpg":56,"./balanceOfPower_hellish.jpg":57,"./balanceOfPower_idyll.jpg":58,"./balanceOfPower_natural.jpg":59,"./balanceOfPower_strained.jpg":60,"./body_heroic.jpg":61,"./body_normal.jpg":62,"./body_peak.jpg":63,"./geography_island.jpg":64,"./geography_megaWorld.jpg":65,"./geography_world.jpg":66,"./magicFrequency_common.jpg":67,"./magicFrequency_everyone.jpg":68,"./magicFrequency_few.jpg":69,"./magicFrequency_half.jpg":70,"./magicFrequency_none.jpg":71,"./magicFrequency_rare.jpg":72,"./magicPower_convenience.jpg":73,"./magicPower_heroic.jpg":74,"./magicPower_powerful.jpg":75,"./magicPower_worldShattering.jpg":76,"./magicSituation_casual.jpg":77,"./magicSituation_hidden.jpg":78,"./magicSituation_persecuted.jpg":79,"./magicSituation_revered.jpg":80,"./magicSituation_worshipped.jpg":81,"./markings_demigod.jpg":82,"./markings_doom.jpg":83,"./markings_saviour.jpg":84,"./parents_abandoned.jpg":85,"./parents_common.jpg":86,"./parents_highStatus.jpg":87,"./parents_royalty.jpg":88,"./population_denslyPopulated.jpg":89,"./population_mediumPopulation.jpg":90,"./population_sparselyPopulated.jpg":91,"./species_custom.jpg":92,"./species_fantasy.jpg":93,"./species_humans.jpg":94,"./species_none.jpg":95,"./technology_agricultural.jpg":96,"./technology_ancient.jpg":97,"./technology_industrial.jpg":98,"./technology_medieval.jpg":99,"./technology_modern.jpg":100,"./technology_nearFuture.jpg":101,"./technology_prehistoric.jpg":102,"./technology_stoneAge.jpg":103,"./uniqueRace.jpg":104,"./yourMagic.jpg":105};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=52},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/age_adult.917bd413.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/age_child.f7be8d8e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/age_teen.1135fbe0.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/balanceOfPower_balanced.905350b4.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/balanceOfPower_hellish.1686bc7e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/balanceOfPower_idyll.ef14bf33.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/balanceOfPower_natural.1a43bf45.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/balanceOfPower_strained.3d8f1b37.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/body_heroic.e9a0330c.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/body_normal.277c5138.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/body_peak.1486fd4e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/geography_island.8a455198.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/geography_megaWorld.d0eca993.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/geography_world.403dc4b3.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_common.f335f936.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_everyone.4a5049cc.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_few.19ce4c21.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_half.c7cd7e28.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_none.c671959f.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicFrequency_rare.ff6054e5.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicPower_convenience.181b2c45.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicPower_heroic.84063a58.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicPower_powerful.ac4dce10.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicPower_worldShattering.5afc12bf.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicSituation_casual.378c6098.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicSituation_hidden.0e7b6e8a.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicSituation_persecuted.8870f8b7.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicSituation_revered.c8cc4943.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/magicSituation_worshipped.34d96cf9.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/markings_demigod.0e171179.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/markings_doom.1680f941.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/markings_saviour.3ae2509e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/parents_abandoned.fac665ab.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/parents_common.b09700cd.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/parents_highStatus.443eebee.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/parents_royalty.2045802a.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/population_denslyPopulated.e972f21f.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/population_mediumPopulation.1e312657.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/population_sparselyPopulated.6fc5c011.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/species_custom.dd120dee.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/species_fantasy.5934f68c.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/species_humans.04759635.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/species_none.2fd4bc9a.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_agricultural.4aedad95.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_ancient.52aaeff4.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_industrial.1294b6b0.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_medieval.00b55368.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_modern.9aa7c69e.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_nearFuture.12683ffa.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_prehistoric.67f007ac.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/technology_stoneAge.b8da343a.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/uniqueRace.5221c41b.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/yourMagic.c3963772.jpg"},function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),a=n(8),s=n.n(a),c=n(3),r=n(14),l=n.n(r),u=(n(37),{}),d=n(17),p=n(4),h=n.n(p),m=n(0);var f=function(e){return Object(m.jsx)("div",{className:h()("Checkbox",{CheckboxSelected:e.selected}),onClick:function(){e.selected?e.sell():e.buy()},children:Object(m.jsx)("svg",{viewBox:"0 0 100 100",children:Object(m.jsx)("path",{d:"M17 53L42 83L77 23"})})})},b=n(7),g=n(12);function j(e,t){var n=Math.max(t.target.value,this.min);!1!==this.max&&(n=Math.min(n,this.max)),e(n),this.trade(n)}var v=function(e){var t=Object(i.useState)(e.selected),n=Object(g.a)(t,2),o=n[0],a=n[1];Object(i.useEffect)((function(){a(e.selected)}),[e.selected]);var s={};return!1!==e.max&&(s.max=e.max),Object(m.jsxs)("div",{className:"Spinbox",children:[Object(m.jsx)("button",{onClick:e.sell,disabled:o<=e.min,children:Object(m.jsx)("svg",{viewBox:"0 0 100 100",children:Object(m.jsx)("path",{d:"M20 50L80 50"})})}),Object(m.jsx)("input",Object(b.a)(Object(b.a)({type:"number",value:o,min:e.min},s),{},{onChange:function(e){return a(e.target.value)},onBlur:j.bind(e,a),onKeyDown:function(e){13===e.which&&l()(e.currentTarget).trigger("blur")}})),Object(m.jsx)("button",{onClick:e.buy,disabled:o>=e.max,children:Object(m.jsxs)("svg",{viewBox:"0 0 100 100",children:[Object(m.jsx)("path",{d:"M20 50L80 50"}),Object(m.jsx)("path",{d:"M50 20L50 80"})]})})]})},y=n(2),O=n.n(y),x={};x.userFunction=O.a.shape({isUserFunction:O.a.bool,functionId:O.a.number,value:O.a.any}),x.text=O.a.oneOfType([O.a.node,x.userFunction]),x.currency=O.a.objectOf(O.a.shape({name:O.a.string,value:O.a.number,currentValue:O.a.number})),x.cost=O.a.objectOf(O.a.object),x.option=O.a.shape({type:O.a.oneOf(["option","group","story","optionsContainer"]),name:O.a.node,text:x.text,link:O.a.string,min:O.a.number,max:O.a.oneOfType([O.a.number,O.a.bool]),image:O.a.string,cost:x.cost,options:O.a.object,test:x.userFunction,optionCurrency:x.currency,hasIndividualChildren:O.a.bool,individualOptions:O.a.object,childOptionCurrency:x.currency,slug:O.a.string,path:O.a.string,selected:O.a.oneOfType([O.a.number,O.a.objectOf(O.a.object)]),isChild:O.a.bool,isSynthetic:O.a.bool,functionalChildren:O.a.object});var w=x;var S=function(e){return Object(m.jsx)("div",{className:"AddChild",onClick:e.buy,children:"add new"})};function C(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];if(void 0!==e.options&&e.options.isUserFunction)n=e.functionalChildren;else{if(void 0===(e=P(e,t)).options)return!1;n=e.options}for(var a in n){var s=n[a];"option"===s.type&&1===s.max&&!s.disableUseAsSelect&&s.selected&&o.push(s)}return i?o.filter((function(e){return!M(e,t)})):o}function _(e,t){return!M(e,t)&&("option"===e.type?"number"===typeof e.selected?e.selected:Object.getOwnPropertyNames(e.selected).length:C(e,t,!0).length)}var N=[];function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";if(void 0!==e)return e.isUserFunction?!1===n?N[e.functionId](Object(b.a)(Object(b.a)({},t),u.state)):(void 0===e[n]&&(e[n]=N[e.functionId](Object(b.a)(Object(b.a)({},t),u.state))),e[n]):e}function M(e,t){var n=D(e,t);if(n){if(M(n,t))return!0;if("option"===n.type&&0===_(n,t))return!0}return void 0!==e.test&&!k(e.test,{option:e})}function I(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(n=e.hasIndividualChildren?e.selected:void 0!==e.options&&e.options.isUserFunction?e.functionalChildren:e.options))return{};if(i){var o={};for(var a in n)M(n[a],t)||(o[a]=n[a]);return o}return n}function P(e,t){for(var n=function(e){return"object"===typeof e?Array.isArray(e)||(e=e.path.split("/")):e=e.split("/"),e.reverse().filter((function(e){return""!==e}))}(T(e)),i={options:t};n.length;)i=I(i,t)[n.pop()];return i}function T(e){return JSON.parse(JSON.stringify(e))}function F(e){if(!e||void 0!==e.$$typeof&&"Symbol(react.element)"===e.$$typeof.toString())return e;var t,n=Array.isArray(e)?[]:{};for(var i in e)t=e[i],n[i]="object"===typeof t?F(t):t;return n}function D(e,t){if(void 0===e.path)return!1;var n=e.path.split("/");return!(n.length<=1)&&(n.pop(),P(n,t))}function A(e){return null!==e&&("function"===typeof e||"object"===typeof e)}function E(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" / ",i=e.split("/"),o=[],a=0;a<i.length;a++)o.push(P(i.slice(0,a+1),t).name);return o.join(n)}function U(e,t,n){var i=e.lastIndexOf(t);return i>=0?e.substring(0,i)+n+e.substring(i+t.length):e}var B=function(e){return Object(m.jsx)("div",{className:"Delete",onClick:e.sell,children:Object(m.jsxs)("svg",{viewBox:"0 0 100 100",children:[Object(m.jsx)("path",{d:"M20 20L80 80"}),Object(m.jsx)("path",{d:"M20 80L80 20"})]})})};function q(e,t){A(t.detail)||(t.detail={}),t.detail.fromOptionControl=!0,void 0!==e.selectedId?e.selectedId<e.selectable.length-1?e.buy(e.selectable[e.selectedId+1]):e.includeEmpty?e.sell(e.selectable[e.selectedId]):e.buy(e.selectable[0]):e.buy(e.selectable[0])}function H(e,t){A(t.detail)||(t.detail={}),t.detail.fromOptionControl=!0,void 0!==e.selectedId?e.selectedId>0?e.buy(e.selectable[e.selectedId-1]):e.includeEmpty?e.sell(e.selectable[e.selectedId]):e.buy(e.selectable[e.selectable.length-1]):e.buy(e.selectable[e.selectable.length-1])}var L=function(e){var t="none";return void 0!==e.selectedId&&(t=e.selectable[e.selectedId].name),Object(m.jsxs)("div",{className:"SelectControls",children:[Object(m.jsx)("button",{onClick:H.bind(null,e),children:Object(m.jsxs)("svg",{viewBox:"0 0 100 100",children:[Object(m.jsx)("path",{d:"M70 20L10 50L70 80z"}),Object(m.jsx)("path",{d:"M75 50L90 50"})]})}),Object(m.jsx)("div",{className:"SelectControlsCurrent",children:t}),Object(m.jsx)("button",{onClick:q.bind(null,e),children:Object(m.jsxs)("svg",{viewBox:"0 0 100 100",children:[Object(m.jsx)("path",{d:"M30 20L90 50L30 80z"}),Object(m.jsx)("path",{d:"M25 50L10 50"})]})})]})};var W=function(e){if(e.option.info.isDisabled||e.isSummaryMode)return!1;var t;switch(e.optionInfo.controlType){case"checkbox":t=Object(m.jsx)(f,{selected:!!e.option.selected,sell:e.sell.bind(null,e.option),buy:e.buy.bind(null,e.option)});break;case"spinbox":t=Object(m.jsx)(v,{selected:e.option.selected,sell:e.sell.bind(null,e.option),buy:e.buy.bind(null,e.option),trade:e.trade.bind(null,e.option),min:e.option.min,max:e.option.max});break;case"addChild":t=Object(m.jsx)(S,{buy:e.buy.bind(null,e.option)});break;case"delete":t=Object(m.jsx)(B,{sell:e.sell.bind(null,e.option)});break;case"select":t=Object(m.jsx)(L,{selectedId:e.optionInfo.selectedSuboptionId,selectable:e.optionInfo.selectableSuboptions,sell:e.sell,buy:e.buy,includeEmpty:0===e.option.min});break;default:return!1}return Object(m.jsx)("div",{className:"OptionControls",onClick:function(e){A(e.detail)||(e.detail={}),e.detail.fromOptionControl=!0},children:t})};function Y(e){if("option"===e.type){if(e.hasIndividualChildren)return"addChild";if(1===e.max)return"checkbox";if(e.max>1||!1===e.max)return"spinbox"}if("group"===e.type){if(e.isChild)return"delete";if(1===e.max&&!e.disableUseAsSelect)return"select"}return!1}var R=function(e){return e.isChangeable?Object(m.jsx)("div",{className:"Name title",children:Object(m.jsx)("input",{value:e.name,onChange:function(t){return e.change("name",t.target.value)},placeholder:"name"})}):Object(m.jsx)("div",{className:"Name title",children:e.name})},V=n(23),G=n.n(V);var X=function(e){return e.isChangeable?Object(m.jsx)("div",{className:"Text",children:Object(m.jsx)("textarea",{value:e.text,onChange:function(t){return e.change("text",t.target.value)},placeholder:"description"})}):!!e.text&&Object(m.jsx)("div",{className:"Text",children:Object(m.jsx)(G.a,{children:e.text})})};var z=Object(c.b)()((function(e){if("select"!==e.optionInfo.controlType)return!1;var t=e.optionInfo.selectableSuboptions[e.optionInfo.selectedSuboptionId];if(void 0===t)return!1;var n=t.text;return t.info.isDisabled&&(n=t.disabledText),Object(m.jsxs)("div",{className:h()("Select",{SelectDisabled:t.info.isDisabled}),children:[Object(m.jsx)(R,{name:t.name,isChangeable:!1}),Object(m.jsx)(X,{text:n,isChangeable:!1})]})}));var J=function(e){return void 0!==e.src&&Object(m.jsx)("div",{className:"Image",children:Object(m.jsx)("div",{className:"ImageContent",style:{backgroundImage:"url(".concat(e.src,")"),backgroundPositionY:(void 0===e.cy?50:e.cy)+"%",backgroundPositionX:(void 0===e.cx?50:e.cx)+"%"}})})};var $=function(e){if(void 0===e.currency)return!1;var t=[];for(var n in e.currency){var i=e.currency[n];0===i.currentValue&&0===i.value||t.push(Object(m.jsxs)("div",{className:h()("CurrencyStatSingle",{CurrencyStatPositive:i.currentValue>=0}),children:[Object(m.jsx)("div",{className:"CurrencyStats-name",children:i.name}),Object(m.jsx)("div",{className:"CurrencyStats-value",children:i.currentValue})]},"currency-".concat(n)))}return Object(m.jsx)("div",{className:"CurrencyStats",children:t})};var K=function(e){if(void 0===e.cost)return!1;var t=[];for(var n in e.cost){var i=e.cost[n];0===i.nextValue&&0===i.value||t.push(Object(m.jsxs)("div",{className:h()("OptionCostSingle",{OptionCostPositive:i.nextValue<0}),children:[Object(m.jsx)("div",{className:"OptionCost-name",children:i.name}),Object(m.jsx)("div",{className:"OptionCost-value",children:(i.nextValue>0?"":"+")+-i.nextValue})]},"cost-".concat(n)))}return Object(m.jsx)("div",{className:"OptionCost",children:t})};Option.propTypes={option:w.option};var Q=function(e){return(void 0!==e.option.cost||void 0!==e.option.optionCurrency)&&Object(m.jsxs)("div",{className:"OptionStats",children:[Object(m.jsx)(K,{cost:e.option.cost}),Object(m.jsx)($,{currency:e.option.optionCurrency})]})};var Z=Object(c.b)()((function(e){var t,n;if(void 0!==e.path){var i=e.path.split("#"),o=Object(g.a)(i,2);t=o[0],n=o[1],t=t.split("/")}return Object(m.jsx)("span",{className:"PathLink",onClick:function(i){A(i.detail)||(i.detail={}),i.detail.fromLink=!0,e.dispatch({type:"CHANGE_PATH",path:t,anchor:n,scroll:window.scrollY,isChangingStage:e.isChangingStage,previous:e.previous})},children:e.text})}));var ee=Object(c.b)((function(e){return{options:e.options}}))((function(e){var t=function(e){return!(e.isOpened||e.depth<=1||e.option.disableOpenButton)&&Object(m.jsx)(Z,{text:"open",path:e.option.path})}(e),n=function(e){if(void 0===e.option.link)return!1;var t=P(e.option.link,e.options);return Object(m.jsx)(Z,{text:"open ".concat(t.name),path:t.path})}(e);return(!1!==t||!1!==n)&&Object(m.jsxs)("div",{className:"OptionLinks",children:[n,t]})})),te=n(9);var ne=Object(c.b)((function(e){return{options:e.options,errors:e.errors}}))((function(e){var t,n=[],i=Object(te.a)(e.errors);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.path===e.option.path&&n.push(Object(m.jsx)("div",{className:"error",children:o.text},"option-error-".concat(o.code)))}}catch(a){i.e(a)}finally{i.f()}return 0!==n.length&&Object(m.jsx)("div",{className:"OptionFoot",children:n})}));Option.propTypes={option:w.option,getStastsFrom:w.option,change:O.a.func,optionInfo:O.a.object,isOpened:O.a.bool};var ie=function(e){return Object(m.jsxs)("div",{className:"OptionBox",children:[Object(m.jsx)("div",{className:"OptionHead",children:Object(m.jsx)(Q,{option:e.getStastsFrom})}),Object(m.jsx)(R,{name:e.option.name,isChangeable:e.option.isChild,change:e.change.bind(null,e.option)}),Object(m.jsx)(X,{text:k(e.option.text,{option:e.option}),isChangeable:e.option.isChild,change:e.change.bind(null,e.option)}),Object(m.jsx)(ee,{option:e.option,depth:e.optionInfo.depth,isOpened:e.isOpened}),Object(m.jsx)(ne,{option:e.option})]})};var oe=function(e){return!!e.option.info.isDisabled&&Object(m.jsxs)("div",{className:"OptionDisabledInfo",children:[!!e.option.image&&Object(m.jsx)("div",{className:"OptionDisabledImage",style:{backgroundImage:"url(".concat(e.option.image,")")}}),Object(m.jsxs)("div",{className:"OptionDisabledNameContainer",children:[Object(m.jsx)("div",{className:"OptionDisabledName",children:e.option.name}),Object(m.jsx)("div",{className:"OptionDisabledMessage",children:"disabled"})]}),Object(m.jsx)("div",{className:"OptionDisabledReason",children:e.option.disabledText})]})};var ae=function(e){var t=e.optionInfo;return Object(m.jsxs)("div",{className:h()("Suboption","OptionControl-".concat(t.controlType),"OptionType-".concat(e.option.type),{OptionSelected:e.option.info.isSelected},{OptionOpenable:t.isOpenable},{SelectableSuboption:t.isSelectableSuboption},{OptionHasImage:t.image},{OptionDisabled:e.option.info.isDisabled}),children:[Object(m.jsx)(W,{option:e.option,sell:e.sell,buy:e.buy,trade:e.trade,optionInfo:t}),Object(m.jsxs)("div",{className:"SuboptionWrap",children:[Object(m.jsxs)("div",{className:"SuboptionContent",children:[Object(m.jsx)(J,{src:t.image,cx:t.imageCx,cy:t.imageCy}),Object(m.jsx)(ie,{option:e.option,getStastsFrom:t.getStastsFrom,change:e.change,optionInfo:t})]}),Object(m.jsx)(z,{option:e.option,optionInfo:t}),Object(m.jsx)(oe,{option:e.option,optionInfo:t})]})]})};var se=function(e){return Object(m.jsx)("div",{className:"SuboptionsContainer",onClick:function(e){A(e.detail)||(e.detail={}),e.detail.fromSuboptions=!0},children:e.children})};function ce(e,t){var n=I(e,t,!0);if(0===Object.keys(n).length)return 1;var i=0;for(var o in n){var a=n[o];i=Math.max(ce(a,t),i)}return i+1}function re(e,t){if(void 0===e.path)return{suboptions:t};var n={controlType:Y(e),suboptions:I(e,t),depth:ce(e,t)};if(n.isOpenable=Object.keys(n.suboptions).length>0,n.image=e.image,n.imageCy=e.imageCy,n.imageCx=e.imageCx,n.getStastsFrom=e,n.isSelectableSuboption="option"===e.type&&0===e.min&&!e.disableUseAsSelect&&1===e.max,"select"===n.controlType){for(var i in n.selectableSuboptions=[],n.suboptions){var o=n.suboptions[i];"option"!==o.type||1!==o.max||0!==o.min||o.disableUseAsSelect||M(o,t)&&!o.showWhenDisabled||(n.selectableSuboptions.push(o),o.selected&&(n.selectedSuboptionId=n.selectableSuboptions.length-1))}n.selectableSuboptions.length<=1&&(n.controlType=!1);var a=n.selectableSuboptions[n.selectedSuboptionId];void 0!==a&&(n.getStastsFrom=a,e.dontUseImageOfSelected||(n.image=a.image,n.imageCy=a.imageCy,n.imageCx=a.imageCx))}return n}function le(e){this.dispatch({type:"BUY_OPTION",option:e})}function ue(e){this.dispatch({type:"SELL_OPTION",option:e})}function de(e,t){this.dispatch({type:"TRADE_OPTION",value:t,option:e})}function pe(e,t,n){this.dispatch({type:"CHANGE_TEXT",option:e,textProp:t,text:n})}function he(e){this.dispatch({type:"MARK_AS_SEEN",option:e})}var me,fe=Object(c.b)((function(e){return{options:e.options,path:e.path}}))((function(e){var t=e.suboptions;if(0===Object.keys(t).length)return!1;if(e.option.info.isDisabled)return!1;var n=[];for(var i in t){var o=t[i],a=re(o,e.options);!o.showAsSuboption||"select"===e.optionInfo.controlType&&a.isSelectableSuboption||!o.showWhenDisabled&&o.info.isDisabled||("option"!==o.type&&"group"!==o.type||n.push(Object(m.jsx)(ae,{option:o,buy:le.bind(e),sell:ue.bind(e),trade:de.bind(e),change:pe.bind(e),optionInfo:a},"suboption-".concat(o.path))))}return 0!==n.length&&Object(m.jsx)(se,{children:n})}));function be(e){this.isSummaryMode||this.option.info.isDisabled||!this.option.info.isUnseen||this.markSeen(this.option)}function ge(e){if(!(this.isSummaryMode||e.detail.fromOptionControl||e.detail.fromSuboptions||e.detail.fromLink||this.option.info.isDisabled))switch(Y(this.option)){case"checkbox":this.option.selected?this.sell(this.option):this.buy(this.option);break;case"spinbox":this.buy(this.option)}}function je(){var e=this;this.isSummaryMode||this.option.info.isDisabled||!this.option.info.isUnseen||(me=setTimeout((function(){e.markSeen(e.option)}),1e3))}function ve(){this.isSummaryMode||this.option.info.isDisabled||!this.option.info.isUnseen||clearTimeout(me)}var ye=function(e){var t=e.optionInfo;if(e.isSummaryMode&&["option","group"].includes(e.option.type)&&(e.option.info.isDisabled||!e.option.info.isSelected))return!1;var n=!e.isSummaryMode&&"OptionControl-".concat(t.controlType);return Object(m.jsxs)("div",{id:e.option.path.replace(/\//g,"_"),className:h.a.apply(void 0,["Option",n,"OptionType-".concat(e.option.type),{OptionSelected:e.option.info.isSelected},{OptionOpenable:t.isOpenable},{OptionHasImage:t.image},{OptionDisabled:e.option.info.isDisabled},{isUnseen:!e.isSummaryMode&&e.option.info.isUnseen}].concat(Object(d.a)(e.option.classes))),onClick:be.bind(e),onMouseEnter:je.bind(e),onMouseLeave:ve.bind(e),children:[Object(m.jsx)(W,{option:e.option,sell:e.sell,buy:e.buy,trade:e.trade,optionInfo:t,isSummaryMode:e.isSummaryMode}),Object(m.jsxs)("div",{className:"OptionWrap",onClick:ge.bind(e),children:[Object(m.jsxs)("div",{className:"OptionContent",children:[Object(m.jsx)(J,{src:t.image,cx:t.imageCx,cy:t.imageCy}),Object(m.jsx)(ie,{option:e.option,getStastsFrom:t.getStastsFrom,change:e.change,optionInfo:t})]}),Object(m.jsx)(z,{option:e.option,optionInfo:t,options:e.options}),Object(m.jsx)(fe,{option:e.option,suboptions:e.optionInfo.suboptions,optionInfo:t}),Object(m.jsx)(oe,{option:e.option,optionInfo:t})]})]})},Oe=n(108);var xe=function(e){return Object(m.jsx)(Oe.a,{className:"OptionsContainer",children:e.children})},we=n(107);var Se=Object(c.b)((function(e){return{settings:e.settings,options:e.options,path:e.path}}))((function(e){var t=I(e.option,e.options),n=[];for(var i in t){var o=t[i];if(o.showWhenDisabled||!o.info.isDisabled){var a=re(o,e.options);n.push(Object(m.jsx)(we.a,{timeout:300,classNames:"item",children:Object(m.jsx)(ye,{option:o,buy:le.bind(e),sell:ue.bind(e),trade:de.bind(e),change:pe.bind(e),markSeen:he.bind(e),optionInfo:a,isSummaryMode:e.settings.isSummaryMode})},"option-".concat(o.path)))}}return n.push(Object(m.jsx)(we.a,{timeout:300,classNames:"item",children:Object(m.jsx)("div",{style:{width:"100%"}})},"option-after-".concat(e.option.path))),Object(m.jsx)(xe,{children:n})}));var Ce=Object(c.b)((function(e){return{options:e.options}}))((function(e){var t=re(e.option,e.options);return Object(m.jsxs)("div",{className:"OptionWideHead",children:[Object(m.jsx)(W,{option:e.option,buy:le.bind(e),sell:ue.bind(e),trade:de.bind(e),optionInfo:t}),Object(m.jsxs)("div",{className:"OptionContent",children:[Object(m.jsx)(J,{src:t.image,cx:t.imageCx,cy:t.imageCy}),Object(m.jsx)(ie,{option:e.option,getStastsFrom:t.getStastsFrom,change:pe,optionInfo:t,isOpened:!0})]})]})}));var _e=function(e){if(0===e.path.length)return!1;var t=Object(m.jsxs)("svg",{viewBox:"0 0 133 100",children:[Object(m.jsx)("path",{d:"M70 20L10 50L70 80z"}),Object(m.jsx)("path",{d:"M75 50L123 50"})]});return Object(m.jsx)("div",{className:"ReturnButton",children:Object(m.jsx)(Z,{previous:!0,text:t})})};function Ne(e,t){if(0===e.length||t.settings.usesStages&&e.length<=1)return!1;for(var n=[],i=0;i<t.path.length;i++){var a=t.path.slice(0,i+1),s=P(a,t.options).name;n.push(Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsx)(Z,{path:a.join("/"),text:s}),i!==t.path.length-1&&Object(m.jsx)("span",{children:" / "})]},"breadcrumb-".concat(a.join("-"))))}return Object(m.jsxs)("div",{className:"BreadcrumbsPage",children:[t.settings.usesStages?"":Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsx)(Z,{path:"",text:"home"}),Object(m.jsx)("span",{children:" / "})]}),n]})}var ke=Object(c.b)((function(e){return{settings:e.settings,options:e.options,path:e.path}}))((function(e){var t=e.path.filter((function(e){return""!==e}));return Object(m.jsxs)("nav",{className:"Breadcrumbs",children:[Object(m.jsx)(_e,{path:e.path}),Ne(t,e)]})}));function Me(e,t){for(var n=T(e.settings.currency),i=T(t).reverse(),o="";i.length>0;){var a=P(o+="/"+i.pop(),e.options);void 0!==a.optionCurrency&&Object.assign(n,a.optionCurrency)}return n}function Ie(e,t){if(M(e,t))return!1;if(void 0===e.selected){var n=C(e,t);return!1!==n&&0!==n.length&&n[0]}return e.selected}function Pe(e,t){if(void 0===e.cost)return!1;var n=[];for(var i in e.cost){var o=e.cost[i];0!==o.value&&n.push(Object(m.jsxs)("div",{className:h()("list-option-cost",{costPositive:o.value<0}),children:[Object(m.jsx)("div",{className:"list-option-cost-name",children:o.name}),Object(m.jsx)("div",{className:"list-option-cost-value",children:(o.value>0?"":"+")+-o.value*t})]},"list-option-cost-".concat(e.path,"-").concat(i)))}return 0===n.length?null:n}function Te(e,t){var n=[],i=I(e,t);for(var o in i){var a=i[o];if(!M(a,t)){var s=Ie(a,t),c=Pe(a,s),r=Te(a,t),l=U(a.path,"/","#");l.search("/")<0&&l.search("#")<0&&(l="#"+l),("number"===typeof s&&s>0||r.length>0)&&n.push(Object(m.jsxs)("li",{className:h()("list-option",{listOptionHasChildren:r.length>0},{listOptionHasCost:c}),children:[Object(m.jsxs)("div",{className:"listOptionContent",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(Z,{text:a.name,path:l}),s>1?" \xd7 "+s:""]}),c?Object(m.jsx)("svg",{className:"listOptionFill",viewBox:"0 0 100 3",children:Object(m.jsx)("path",{d:"M1 1L99 1",vectorEffect:"non-scaling-stroke"})}):"",Object(m.jsx)("div",{children:c})]}),r.length>0?Object(m.jsx)("ul",{children:r}):""]},"list-option-".concat(a.path)))}}return n}var Fe=Object(c.b)((function(e){return{settings:e.settings,options:e.options,path:e.path}}))((function(e){var t=Te({options:e.options},e.options),n=Me(e,e.path);return Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsx)("ul",{className:"SelectedOptions",children:t}),Object(m.jsx)($,{currency:n})]})}));var De=Object(c.b)((function(e){return{errors:e.errors}}))((function(e){var t,n=Object(i.useState)(!1),a=Object(g.a)(n,2),s=a[0],c=a[1],r=[],l=Object(te.a)(e.errors);try{for(l.s();!(t=l.n()).done;){var u=t.value;r.push(Object(m.jsx)("div",{className:"error",children:void 0===u.path?u.text:Object(m.jsx)(Z,{text:u.text,path:u.path})},"error-".concat(u.code)))}}catch(d){l.e(d)}finally{l.f()}return Object(m.jsxs)("div",{className:h()("Menu",{MenuOpened:s}),children:[Object(m.jsxs)("div",{className:"burger",onClick:function(){return c(!s)},children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]}),Object(m.jsxs)("div",{className:"MenuWrap",children:[r.length>0?Object(m.jsxs)(o.a.Fragment,{children:[Object(m.jsx)("div",{className:"MenuHeading",children:"Warnings"}),r]}):"",Object(m.jsx)("div",{className:"MenuHeading",children:"Your options"}),Object(m.jsx)(Fe,{})]})]})}));var Ae=Object(c.b)((function(e){return{settings:e.settings,options:e.options,path:e.path}}))((function(e){var t=Me(e,e.path);return Object(m.jsxs)("div",{className:"Nav",children:[Object(m.jsx)($,{currency:t}),Object(m.jsx)(ke,{}),Object(m.jsx)(De,{})]})}));function Ee(e,t){return!(t.settings.usesStages&&t.path.length<=1)&&(0!==t.path.length&&Object(m.jsx)(Ce,{option:e}))}window.addEventListener("load",(function(){l()("body").addClass("unlocked"),setTimeout((function(){l()(".MainOverlay").remove()}),300)}));var Ue=Object(c.b)((function(e){return{settings:e.settings,options:e.options,path:e.path}}))((function(e){Object(i.useEffect)((function(){if(void 0!==u.scroll){var e={top:u.scroll};window.scrollTo(e),u.scroll=void 0}void 0!==u.scrollAnchor&&setTimeout((function(){var e=l()("#".concat(u.scrollAnchor)).offset().top-16;window.scrollTo({top:e,behavior:"smooth"}),u.scrollAnchor=void 0}),u.scrollSamePath?0:300)}));var t=e.dispatch;Object(i.useEffect)((function(){window.history.replaceState({path:[]},""),window.onpopstate=function(e){e.state&&t({type:"CHANGE_PATH",scroll:window.scrollY,path:e.state.path,fromHistory:!0})}}),[t]);var n=P(e.path,e.options);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{className:"MainOverlay",children:Object(m.jsx)("svg",{className:"loader",viewBox:"0 0 100 100",children:Object(m.jsx)("circle",{cx:"50",cy:"50",r:"40"})})}),Object(m.jsx)(Ae,{option:n}),Ee(n,e),Object(m.jsx)(Se,{option:n})]})})),Be=n(25),qe=n(24),He=n.p+"static/media/intro.683f4de2.jpg";function Le(e){this.dispatch({type:"CHANGE_SUMMARY_MODE",state:e})}var We=Object(c.b)()((function(e){var t=void 0===e.text?"Open summary":e.text;return Object(m.jsx)("div",{className:"EnterSummaryMode",onClick:Le.bind(e,e.state),children:Object(m.jsx)("div",{children:t})})}));var Ye={};try{Ye=function(e){var t={};return e.keys().map(e).forEach((function(e,n){var i=e.split("/").pop().split(".")[0];t[i]=e})),t}(n(52))}catch(jt){}function Re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=P(n+e,this.options);return!M(i,this.options)&&(void 0===t?i.selected>0:t.includes(Ge.call(this,i)))}function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return!t.includes(Ge.call(this,e,n))}function Ge(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(M(t="string"===typeof e?P(n+e,this.options):e,this.options))return!1;if(void 0===t.selected){var i=C(t,this.options);return 0!==i.length&&i[0].slug}return t.selected}var Xe={intro:{name:"A quick trip",type:"story",text:Object(m.jsx)(o.a.Fragment,{children:Object(m.jsx)("p",{children:"Due to some disturbances in spacetime you were ripped out of your reality. Your soul is currently hovering in an endless void. You have no senses to feel anything yet you realize you can steer yourself to any of the myriad of realities scattered around you. Each one of them branching into countless others. In what world will you end up depends solely on your choices."})}),image:He,classes:["intro"]},self:{name:"Your New Self",type:"story",text:Object(m.jsx)("p",{children:"You will receive a new body. It will be healthy and void of any genetic defects."})},age:{name:"Age",type:"group",text:Object(m.jsx)("p",{children:"At what age will your new body be?"}),min:1,disableOpenButton:!0,options:{child:{name:"Child",text:Object(m.jsx)("p",{children:"Your soul will enter a body that would otherwise be a stillborn. Your parents will provide for your basic needs but you won't have much autonomy at first. Your mind and memory will be fully functional but you will have to adapt to your new body making you as clumsy as every other newborn."}),imageCx:30,cost:{gold:1}},teen:{name:"Teen",text:Object(m.jsx)("p",{children:"You will appear in a secluded area in a body similar to people around but not belonging to anyone in praticular. You will have a body of a child around 12 years old which will limit your strating strength and possibilities."}),selected:1},adult:{name:"Adult",text:Object(m.jsx)("p",{children:"You will appear in a secluded area in a body similar to people around but not belonging to anyone in praticular. You will have a body of a fully grown adult below 30 years of age."}),cost:{gold:1}}}},parents:{name:"Parents",text:Object(m.jsx)("p",{children:"Who will your parents be? Fate will conspire so that you will for sure survive at least until your twelfth birthday."}),type:"group",test:function(e){return Re.call(e,"age/child")},min:1,disableOpenButton:!0,showWhenDisabled:!0,image:Ye.parents_common,options:{abandoned:{name:"Abandoned",text:Object(m.jsx)("p",{children:"You will be abandoned at birth at an orphanage. You will be given only the minimum required care for you to survive."}),cost:{gold:-1}},common:{name:"Common",selected:1},highStatus:{name:"Hight Status",cost:{gold:5}},royalty:{name:"Royalty",cost:{gold:10}}}},body:{name:"Physical Prowess",type:"group",disableOpenButton:!0,min:1,options:{normal:{name:"Normal Body",selected:1},peak:{name:"Peak Human",cost:{gold:2}},heroic:{name:"Heroic",imageCy:0,cost:{gold:5}},focus:{name:"Focus",text:Object(m.jsx)("p",{children:"To which type will your body belong? This affects your looks and abilities both initial and the natural tendency of your body."}),type:"group",min:1,test:function(e){return Ve.call(e,"body",["normal",!1])},disableOpenButton:!0,showAsSuboption:!0,options:{agility:{name:"Agility"},balanced:{name:"Balanced",selected:1},strength:{name:"Strength"}}}}},uniqueRace:{name:"Unique Race",text:Object(m.jsx)("p",{children:"You can choose your body to have any biologicaly possible traits. Otherwise you have to choose one of the races present in your new world."}),cost:{gold:10}},markings:{name:"Foretold Mark",text:Object(m.jsx)("p",{children:"Your body will bear a marking passed down in legends. It won't do anything except changing people's perception of you. The mark will be possible to hide with some effort."}),type:"group",image:Ye.markings_demigod,disableOpenButton:!0,options:{saviour:{name:"Mark of the Saviour",cost:{gold:2}},demigod:{name:"Mark of the Demigod",cost:{gold:5}},doom:{name:"Mark of Doom",cost:{gold:2}}}},yourMagic:{name:"Your Magic",text:Object(m.jsxs)("p",{children:["You will possess an unique form of magic. Open this optino to specify your capabilities. Your budget for spells is measured in miasma. The amount of miasma available depends on ",Object(m.jsx)(Z,{text:"Magic Frequency",path:"#magicFrequency"})," and ",Object(m.jsx)(Z,{text:"Magic Power",path:"#magicPower"})," in the world."]}),cost:{gold:25},options:{personalMiasma:{name:"Personal Miasma",text:Object(m.jsx)("p",{children:"You have your very own source of magic. This will allow you to learn new spells without increasing the number and power of other mages. Each point costs one gold more."}),max:10,cost:{miasma:-1,gold:function(e){return e.index+1}}},elemental:{name:"Elemental Magic",cost:{miasma:1}},summoning:{name:"Summoning",cost:{miasma:1}}}},world:{name:"Your New World",type:"story"},species:{name:"Sapient Species",type:"group",text:Object(m.jsx)("p",{children:"What king of sapient creatures will inhabit the world?"}),min:1,disableOpenButton:!0,options:{none:{name:"None",cost:{gold:-10}},humans:{name:"Humans",selected:1},fantasy:{name:"Fantasy Species",text:Object(m.jsx)("p",{children:"Assortment of standard fantasy races."}),cost:{gold:5}},custom:{name:"Custom",cost:{gold:10}}}},geography:{name:"Geography",type:"group",disableOpenButton:!0,min:1,options:{island:{name:"Island"},world:{name:"World",selected:1},megaWorld:{name:"Mega World",test:function(e){return Re.call(e,"technology/nearFuture")},showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:'Technology level has to be "near future"'})}}},population:{name:"Population",type:"group",min:1,disableOpenButton:!0,options:{sparselyPopulated:{name:"Sparsely Populated"},mediumPopulation:{name:"Medium Population",selected:1},denslyPopulated:{name:"Densly Populated",test:function(e){return Re.call(e,"technology",["ancient","medieval","industrial","modern","nearFuture"])},showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:"Technology level has to be at least ancient."})}}},balanceOfPower:{name:"Balance of Power",type:"group",text:Object(m.jsx)("p",{children:"What are the realtions between races, countries and people?"}),test:function(e){return Ve.call(e,"species",["none",!1])},disableOpenButton:!0,min:1,options:{idyll:{name:"Idyll",text:Object(m.jsx)("p",{children:"Mostly everyone lives in peace with themselves and each other. War and conflict practically does not exist."}),cost:{gold:10,test:-10}},balanced:{name:"Balanced",text:Object(m.jsx)("p",{children:"Forces of races and great nations exist in an equilibrium where everyone is discouraged from atacking each other. It doesn't seem like anything will change this balance anytime soon. This means conflicts on large scale are very rare."}),cost:{gold:5}},natural:{name:"Natural",text:Object(m.jsx)("p",{children:"Similar to your previous world. Conflicts happen aplenty but usually, majority of the population manages to get by."}),selected:1},strained:{name:"Strained",text:Object(m.jsx)("p",{children:"The world is on a verge of a revolution of some sort. When the war finally breaks out it will change the societal ladscape of the world."}),cost:{gold:-5}},hellish:{name:"Hellish",text:Object(m.jsx)("p",{children:"War is the default state of the world. Most of each country's budget is spent on warfare or repairing war losses. Alliances and peace are possible but will require significant effort."}),cost:{gold:-10}}}},technology:{name:"Technology",type:"group",test:function(e){return!Re.call(e,"species/none")},disableOpenButton:!0,min:1,options:{prehistoric:{name:"Prehistoric"},stoneAge:{name:"Stone Age"},agricultural:{name:"Agricultural"},ancient:{name:"Ancient"},medieval:{name:"Medieval",selected:1},industrial:{name:"Industrial",imageCy:100},modern:{name:"Modern",imageCy:10},nearFuture:{name:"Near Future"}}},magicFrequency:{name:"Magic Frequency",text:Object(m.jsx)("p",{children:"How many sapient creatures on your new world will be able to use magic?"}),type:"group",test:function(e){return!Re.call(e,"species/none")},min:1,disableOpenButton:!0,options:{none:{name:"None",text:Object(m.jsx)("p",{children:"There is no magic at all."}),selected:1},few:{name:"Very Few",text:Object(m.jsx)("p",{children:"There will be only a handfull of people with access to magic."}),cost:{miasma:-5}},rare:{name:"Rare",text:Object(m.jsx)("p",{children:"Magic will be rare, only about 0.001% of population will have access to it."}),cost:{miasma:-10}},common:{name:"Common",text:Object(m.jsx)("p",{children:"About one in twenty people will have access to magic."}),cost:{miasma:-15}},half:{name:"Half",cost:{miasma:-20}},everyone:{name:"Mostly Everyone",cost:{miasma:-25}}}},magicPower:{name:"Magic Power",text:Object(m.jsx)("p",{children:"How powerfull will the magic be?"}),type:"group",test:function(e){return!Re.call(e,"species/none")&&!Re.call(e,"magicFrequency/none")},disableOpenButton:!0,showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:"Requires at least some people to be mages."}),image:Ye.magicPower_powerful,min:1,options:{convenience:{name:"Convenience",selected:1,cost:{miasma:-2}},heroic:{name:"Heroic",cost:{miasma:-5}},powerful:{name:"Powerful",cost:{miasma:-10}},worldShattering:{name:"World Shattering",text:Object(m.jsx)("p",{children:"A single mage has enought power to unleash a category 5 hurricane. But also only one is enough to stop it."}),cost:{miasma:-25}}}},magicSituation:{name:"Situation of Mages",type:"group",min:1,test:function(e){return Ve.call(e,"magicFrequency",["none",!1])},disableOpenButton:!0,showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:"Requires at least some people to be mages."}),image:Ye.magicSituation_persecuted,options:{persecuted:{name:"Persecuted",test:function(e){return!Re.call(e,"magicFrequency/everyone")},showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:"Mages cannot be persecuted if everyone is a mage."})},hidden:{name:"Hidden",test:function(e){return!Re.call(e,"magicFrequency/everyone")},showWhenDisabled:!0,disabledText:Object(m.jsx)("p",{children:"Mages cannot be hidden if everyone is a mage."})},casual:{name:"Casual",text:Object(m.jsx)("p",{children:"Magic exists and is used like any other resource."}),selected:1},revered:{name:"Revered",text:Object(m.jsx)("p",{children:"Mages are revered for theirs skills"})},worshipped:{name:"Worshipped"}}},epilogue:{name:"Epilogue",type:"story",text:function(e){return Object(m.jsxs)(o.a.Fragment,{children:[0===e.errors.length?Object(m.jsx)("p",{children:"This is the end, would you like to see the summary?"}):Object(m.jsx)("p",{children:"You cannot see the summary yet. Check the menu for errors."}),0===e.errors.length?Object(m.jsx)(We,{state:!0}):""]})},test:function(e){return!e.settings.isSummaryMode}}};var ze=function(e){for(var t in e.currencies){e.currencies[t].slug=t}return e.hideDisabledOptions=void 0!==e.hideDisabledOptions&&e.hideDisabledOptions,e.maxDepth=void 0===e.maxDepth?2:e.maxDepth,e.usesStages=void 0!==e.usesStages&&e.usesStages,e.isSummaryMode=void 0!==e.isSummaryMode&&e.isSummaryMode,e}({currency:{gold:{name:"Gold",value:100},miasma:{name:"Miasma",value:0}}});function Je(e,t){for(var n in t)if(n===e)return t[n].name}function $e(e,t,n){if(void 0===ze.currency)return e;var i=Je(e,ze.currency);if(void 0!==i)return i;for(var o=T(t.path).split("/").reverse().filter((function(e){return""!==e})),a={options:n};o.length&&void 0!==(a=I(a,n)[o.pop()]);){if(void 0===(a.optionCurrency||a.childOptionCurrency))break;if(void 0!==(i=Je(e,ze.currency)))return i}return e}function Ke(e){if(void 0!==e)return"function"===typeof e&&(N.push(e),e={isUserFunction:!0,functionId:N.length-1}),e}function Qe(e,t){if(e.text=Ke(e.text),e.test=Ke(e.test),e.options=Ke(e.options),void 0!==e.cost)for(var n in e.cost)null!==e.cost[n]&&(e.cost[n]=Ke(e.cost[n]),e.cost[n].isUserFunction||(e.cost[n]={value:e.cost[n],nextValue:e.cost[n]}),e.cost[n].name=$e(n,e,t))}function Ze(e){if("option"===e.type)return e.hasIndividualChildren?(e.selected=void 0===e.selected?{}:e.selected,void(e.nextChildId=0)):void(e.selected=void 0===e.selected?e.min:e.selected)}function et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;for(var i in e){var o=e[i];o.type=void 0===o.type?"option":o.type,o.min=void 0===o.min?0:Math.max(o.min,0),!1!==o.max&&(o.max=void 0===o.max?1:Math.max(o.max,0)),o.slug=i,o.path=void 0===t?i:t+"/"+i,o.image=void 0===o.image?Ye[o.path.replace(/\//g,"_")]:o.image,o.classes=void 0===o.classes?[]:o.classes,void 0!==o.options&&"function"===typeof o.options&&(o.functionalChildren=void 0===o.functionalChildren?{}:o.functionalChildren),o.options=et(o.options,o.path,n),Ze(o),Qe(o,n)}return e}var tt=n(11);function nt(e,t,n){if(!e.disableUseAsSelect&&(void 0===n&&(n=D(e,t)),!n.disableUseAsSelect&&n&&"group"===n.type&&1===n.max&&1===e.max)){var i=C(n,t);for(var o in i)i[o].selected--}}function it(e,t){"group"!==e.type&&(e.isSynthetic?function(e,t){if(!(!1!==e.max&&e.selected>=e.max)){var n=D(e,t);nt(e,t,n),n.functionalChildren[e.slug].selected++,n.functionalChildren[e.slug].info.isUnseen=!1}}(e,t):((e=P(e,t)).info.isUnseen=!1,e.hasIndividualChildren?function(e,t){if(!(!1!==e.max&&_(e,t)>=e.max)){var n=e.nextChildId++,i=void 0===e.individualOptions?{}:F(e.individualOptions),o=void 0===e.childOptionCurrency?void 0:T(e.childOptionCurrency),a=e.defaultChildName||e.name,s=Object(tt.a)({},n,{type:"group",name:a+" - "+n,options:i,isChild:!0,max:!1,optionCurrency:o});e.selected[n]=et(s,e.path,t)[n]}}(e,t):function(e,t){!1!==e.max&&e.selected>=e.max||(nt(e,t),e.selected++)}(e,t)))}function ot(e,t,n){if(e.isSynthetic){if(e.selected<=e.min)return;var i=D(e,t);return i.functionalChildren[e.slug].selected--,void(i.functionalChildren[e.slug].info.isUnseen=!1)}if((e=P(e,t)).info.isUnseen=!1,"option"===e.type){if(e.hasIndividualChildren)return;if(e.selected<=e.min)return;e.selected--}else if("group"===e.type){if(e.isChild)delete D(e,t).selected[e.slug],e.path===n.join("/")&&n.pop()}}function at(e,t,n){"group"===e.type||e.hasIndividualChildren||!1!==e.max&&n>e.max||n<e.min||(e.isSynthetic?function(e,t,n){var i=D(e,t);void 0===i.functionalChildren[e.slug]&&(i.functionalChildren[e.slug]={selected:0}),i.functionalChildren[e.slug].selected=n,i.functionalChildren[e.slug].info.isUnseen=!1}(e,t):((e=P(e,t)).info.isUnseen=!1,e.selected=n))}function st(e,t,n,i){for(var o in e)if(void 0===i||o===i){var a=e[o];if(!M(a,n)){if("option"===a.type){var s=_(a,n);if(s>0&&void 0!==a.cost)for(var c in a.cost)if(void 0!==t[c]){var r=0;r=a.cost[c].isUserFunction?a.cost[c].value:a.cost[c].value*s,t[c].currentValue-=r}}t=st(I(a,n),t,n)}}return t}function ct(e,t,n,i){if(void 0!==i&&i(e,t),!t.settings.usesStages||void 0===e.path||e.path.split("/")[0]===t.settings.currentStage){var o=I(e,t.options);for(var a in o){var s=o[a];n(s,e,t),ct(s,t,n,i)}}}function rt(e){e.errors=[],ct({options:e.options},e,(function(e,t,n){var i=n.options,o=n.errors;"optionsContainer"!==e.type&&(M(e,i)||(function(e,t,n){if(!1!==e.min||!1!==e.max){var i=_(e,t);!1!==e.min&&i<e.min&&n.push({path:e.path,text:"Option ".concat(E(e.path,t)," cannot have less than ").concat(e.min," selected."),code:"option-".concat(e.path,"-min")}),!1!==e.max&&i>e.max&&n.push({path:e.path,text:"Option ".concat(E(e.path,t)," cannot have more than ").concat(e.max," selected."),code:"option-".concat(e.path,"-max")})}}(e,i,o),function(e,t,n){if(void 0!==e.optionCurrency)for(var i in e.optionCurrency){var o=e.optionCurrency[i],a=void 0===o.min?0:o.min;!1!==a&&o.currentValue<a&&n.push({path:e.path,text:"Currency ".concat(o.name," in ").concat(E(e.path,t)," cannot be below ").concat(a,"."),code:"currency-".concat(e.path,"-").concat(o.slug)})}}(e,i,o)))})),function(e,t,n){if(void 0!==e.currency)for(var i in e.currency){var o=e.currency[i],a=void 0===o.min?0:o.min;!1!==a&&o.currentValue<a&&n.push({text:"Currency ".concat(o.name," cannot be below ").concat(a,"."),code:"currency-".concat(o.slug)})}}(e.settings,e.options,e.errors)}function lt(e,t,n){var i,o=Object(te.a)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("cost"===a){if(void 0!==e.cost)for(var s in e.cost){var c=e.cost[s];if(null!==c&&c.isUserFunction){for(var r=_(e,t.options),l=0,u=0;u<r;u++)l+=k(c,{index:u,option:e},!1);c.value=l,k(c,{index:r,option:e},"nextValue")}}}else k(e[a],{option:e})}}catch(d){o.e(d)}finally{o.f()}}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";void 0!==e&&e.isUserFunction&&(e[t]=void 0)}function dt(e,t){var n,i=Object(te.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("cost"===o){if(void 0!==e.cost)for(var a in e.cost){var s=e.cost[a];null!==s&&s.isUserFunction&&(ut(s),ut(s,"nextValue"))}}else ut(e[o])}}catch(c){i.e(c)}finally{i.f()}}function pt(e,t,n,i){for(var o in t)t[o].currentValue=t[o].value;st(e.options,t,n,i)}function ht(e){ct({options:e.options},e,(function(e){dt(e,["test","cost","options"])})),ct({options:e.options},e,(function(e,t,n){!function(e,t,n){var i=void 0===e.info||e.info.isUnseen;e.info={isUnseen:i,isDisabled:t.info.isDisabled||M(e,n.options),isSelected:_(e,n.options)>0}}(e,t,n),lt(e,n,["test","cost","options"])}),(function(e,t){void 0===e.info&&(e.info={}),function(e,t){if(void 0!==e.options&&e.options.isUserFunction){var n=F(e.options.value);for(var i in n)n[i]=Object(b.a)(Object(b.a)({},n[i]),{},{isSynthetic:!0,selected:0}),void 0!==e.functionalChildren[i]&&Object.assign(n[i],e.functionalChildren[i]),void 0===n[i].path&&(n[i]=et(Object(tt.a)({},i,n[i]),e.path,t)[i]);e.functionalChildren=n}}(e,t.options)})),ct({options:e.options},e,(function(e,t,n){void 0!==e.optionCurrency&&pt(t,e.optionCurrency,n.options,e.slug)})),pt(e,e.settings.currency,e.options),function(e){e.settings.usesStages&&0===e.path.length&&e.path.push(e.settings.currentStage)}(e),rt(e),ct({options:e.options},e,(function(e){dt(e,["text"])})),ct({options:e.options},e,(function(e,t,n){lt(e,n,["text"])}))}function mt(e,t){var n,i=!1;(e.previous&&(e.path=t.path.slice(0,t.path.length-1)),0===t.path.length)?t.settings.scroll=e.scroll:P(t.path,t.options).scroll=e.scroll;var o=t.path.toString()===e.path.toString();if(t.path=e.path.filter((function(e){return""!==e})),!e.fromHistory){var a={path:T(t.path)};window.history.pushState(a,"")}return e.isChangingStage?t.settings.currentStage=t.path[0]:i=!0,void 0!==e.anchor&&(u.scrollAnchor=[].concat(Object(d.a)(t.path),[e.anchor]).join("_"),u.scrollSamePath=o),0===t.path.length?u.scroll=t.settings.scroll:u.scroll=P(t.path,t.options).scroll,u.scroll=null!==(n=u.scroll)&&void 0!==n?n:0,i}var ft={path:[],settings:ze,options:et(Xe,void 0),errors:[]};var bt=Object(Be.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(qe.a)(e,(function(e){u.state=e;var n=!1;switch(t.type){case"BUY_OPTION":it(t.option,e.options);break;case"SELL_OPTION":ot(t.option,e.options,e.path);break;case"TRADE_OPTION":at(t.option,e.options,t.value);break;case"CHANGE_PATH":n=mt(t,e);break;case"CHANGE_SUMMARY_MODE":e.settings.isSummaryMode=t.state;break;case"CHANGE_TEXT":P(t.option,e.options)[t.textProp]=t.text,n=!0;break;case"MARK_AS_SEEN":P(t.option,e.options).info.isUnseen=!1,n=!0}return n||ht(e),e}))}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),gt=bt;s.a.render(Object(m.jsx)(c.a,{store:gt,children:Object(m.jsx)(Ue,{})}),document.getElementById("root"))}]),[[106,1,2]]]);